# 도넛과 막대 그래프

# 24.03.13
처음에는 그래프 순회를 이용하여 접근했지만 풀이가 어렵다고 판단하여 방법을 찾던 중 그래프의 특징을 찾아내어 풀이하는 방법을 찾게되었다. 그래프 관련 문제가 나왔을 때 순회로 접근하는 것도 좋지만 문제에 따라 그래프의 특징을 찾아내어 풀이하는 것도 좋은 방법일 것이다.


# 카카오 해설
생성된 정점: 나가는 간선이 2개 이상(그래프의 개수) 존재하고, 들어오는 간선이 존재하지 않습니다.
막대 모양 그래프: 생성된 정점과 연결된 간선을 제외했을 때, 들어오는 간선이 없는 정점이 하나 존재하고, 나가는 간선이 없는 정점이 하나 존재합니다(두 정점은 같을 수 있습니다). 나머지 정점은 나가는 간선과 들어오는 간선이 하나씩 존재합니다.
도넛 모양 그래프: 생성된 정점과 연결된 간선을 제외했을 때, 모든 정점이 나가는 간선과 들어오는 간선이 하나씩 존재합니다.
8자 모양 그래프: 생성된 정점과 연결된 간선을 제외했을 때, 1개의 정점을 제외하면 나가는 간선과 들어오는 간선이 하나씩 존재합니다. 1개의 정점은 나가는 간선 2개와 들어오는 간선 2개가 존재합니다.
위 내용을 바탕으로, 아래의 절차를 코드로 구현해, 같이 생성된 정점과 각 그래프를 찾아낼 수 있습니다.

들어오는 간선이 존재하지 않고, 나가는 간선이 2개 이상인 정점을 찾습니다. 이러한 정점은 하나만 존재하며, 해당 정점이 생성된 정점입니다.
생성된 정점과 연결된 간선의 개수를 셉니다. 해당 간선들의 개수는 모양 그래프의 총개수와 동일합니다.
생성된 정점과 연결된 간선을 모두 삭제합니다.
들어오는 간선이 없는 정점의 개수 혹은 나가는 간선이 없는 정점의 개수를 셉니다. 해당 정점들은 각 막대 모양 그래프마다 하나씩만 존재하기 때문에 해당 정점들의 개수는 막대 모양 그래프의 개수와 동일합니다.
들어오는 간선이 2개이면서 나가는 간선이 2개인 정점의 개수를 셉니다. 해당 정점들은 각 8자 모양 그래프마다 하나씩만 존재하기 때문에, 해당 정점들의 개수는 8자 모양 그래프의 개수와 동일합니다.
모양 그래프의 총 개수에서 4번과 5번에서 센 정점들의 개수를 뺍니다. 구한 값은 도넛 모양 그래프의 개수와 동일합니다.
1번에서 생성된 정점의 번호를 찾을 수 있고, 4, 5, 6번에서 각각 막대 모양 그래프의 개수, 8자 모양 그래프의 개수, 도넛 모양 그래프의 개수를 구할 수 있습니다. 이 경우 시간 복잡도 O(V+E)에 문제 해결이 가능합니다.

또한, 위 방법 외에도 각 그래프의 사이클 수로 모양 판단하기, 정점과 간선의 수로 모양 판단하기 등 BFS와 DFS를 이용한 여러 가지 풀이가 존재합니다. 이때, 정점과 간선의 개수가 많기 때문에 O(V^2) 혹은 O(E^2)과 같은 큰 시간 복잡도로 코드를 구현하지 않도록 유의해야 합니다.
